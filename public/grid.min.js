(function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r){if(e[i]===n){e[i]=r[i]}}}return e}var i={distance:50,lineWidth:1,gridColor:"#000000",caption:true,font:"10px Verdana"};var s=function o(e){if(!this.draw)return new o(e);this.opts=r(e||{},o.defaults,i)};s.defaults={};r(s.prototype,{draw:function(e){var t=this;var n=t.opts;if(e){e.save();e.lineWidth=n.lineWidth;e.strokeStyle=n.gridColor;e.font=n.font;if(e.canvas.width>e.canvas.height){until=e.canvas.width}else{until=e.canvas.height}for(var r=0;r<=until;r+=n.distance){e.beginPath();if(n.lineWidth==1){e.moveTo(0,r+.5);e.lineTo(e.canvas.width,r+.5)}else{e.moveTo(0,r);e.lineTo(e.canvas.width,r)}e.closePath();e.stroke();if(n.caption){e.fillText(r,r,10)}}for(var i=0;i<=until;i+=n.distance){e.beginPath();if(n.lineWidth==1){e.moveTo(i+.5,0);e.lineTo(i+.5,e.canvas.height)}else{e.moveTo(i,0);e.lineTo(i,e.canvas.height)}e.closePath();e.stroke();if(n.caption){e.fillText(i,0,i)}}e.restore()}}});e.Grid=s})(window,document)